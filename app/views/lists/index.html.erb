<% @lists.in_groups_of(2) do |lists| %>
    <div class="shopping-list-container">
      <% lists.each do |list| %>
          <% if list %>
              <table class="shopping-list">
                <thead>
                <tr>
                  <th colspan="3"><%= list.name %></th>
                </tr>
                </thead>
                <tbody>
                <% current_user.list_items.where(:list => list).includes(:item).order('items.name ASC').each do |item| %>
                    <tr class="item-name-price-container">
                      <td class="item-name-td">
                        <input type="checkbox" id="completed-item-checkbox<%= dom_id(item) %>" class="item-checkbox"/>
                        <label for="completed-item-checkbox<%= dom_id(item) %>"><i class="fa fa-square-o"></i></label>
                        <span class="item-name"><%= "#{item.name}" %></span>
                      </td>
                      <td class="item-price">
                        <%= format_money(item.price(list)) %>
                      </td>
                      <td class="item-remove">
                        <%= form_for(item, :method => 'delete', :confirm => 'Sure?') do |f| %>
                            <label for="remove-<%= dom_id(item) %>" class="remove-button-label">&times;</label>
                            <button class="item-remove-button" id="remove-<%= dom_id(item) %>"></button>
                        <% end %>
                      </td>
                    </tr>
                <% end %>
                <tr>
                  <td colspan="3" class="total-cell">Total: <%= format_money current_user.list_items.where(:list => list).sum(:subtotal) %></td>
                  <td colspan="3" class="total-cell"> Savings:</td>
                </tr>
                </tbody>
              </table>
          <% end %>
      <% end %>
    </div>
<% end %>

<%= link_to '+', new_list_path %>